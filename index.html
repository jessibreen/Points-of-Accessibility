<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.25.1/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.25.1/mapbox-gl.css' rel='stylesheet' />
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-dark.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>Points of Accessibility</title>
  </head>

  <body>
    <style>
    #menu {
        background: #fff;
        position: absolute;
        z-index: 1;
        top: 10px;
        right: 10px;
        border-radius: 3px;
        width: 120px;
        border: 1px solid rgba(0,0,0,0.4);
        font-family: 'Open Sans', sans-serif;
    }

    #menu a {
        font-size: 13px;
        color: #404040;
        display: block;
        margin: 0;
        padding: 0;
        padding: 10px;
        text-decoration: none;
        border-bottom: 1px solid rgba(0,0,0,0.25);
        text-align: center;
    }

    #menu a:last-child {
        border: none;
    }

    #menu a:hover {
        background-color: #f8f8f8;
        color: #404040;
    }

    #menu a.active {
        background-color: #3887be;
        color: #ffffff;
    }

    #menu a.active:hover {
        background: #3074a4;
    }
</style>

    <div id="container">
      <div class="inner">

        <header>
          <h1>Points of Accessibility</h1>
          <h2>Mapping accessibility in Lexington, KY</h2>
        </header>

        <!-- <section id="downloads" class="clearfix">
          <a href="https://github.com/jessibreen/poa/zipball/master" id="download-zip" class="button"><span>Download .zip</span></a>
          <a href="https://github.com/jessibreen/poa/tarball/master" id="download-tar-gz" class="button"><span>Download .tar.gz</span></a>
          <a href="https://github.com/jessibreen/poa" id="view-on-github" class="button"><span>View on GitHub</span></a>
        </section> -->


        <hr>

        <section id="main_content">
          <h3>
<a id="points-of-accessibility" class="anchor" href="#points-of-accessibility" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Points of Accessibility</h3>

<p>An initiative to map accessible businesses in the greater downtown area of Lexington and to educate and acknowledge businesses for accessibility.
</p>


<div id='map'style="width: 600px; height: 600px;">
<nav id="menu"></nav>
</div>

        <script>
        mapboxgl.accessToken = 'pk.eyJ1IjoiamVzc2licmVlbiIsImEiOiJGNnlGVkRrIn0.Ar8l7jFbPYG3SWR-DrTyNQ';

        var bounds = [
            [-84.50300710678505, 38.0428294258083], // Southwest coordinates
            [-84.49091945904043, 38.055193900468076]  // Northeast coordinates
        ];

        var map = new mapboxgl.Map({
            container: 'map', // container id
            style: 'mapbox://styles/jessibreen/citd061d7002r2jlqwjdzfvh4', //stylesheet location
            center: [-84.496500, 38.049000], // starting position
            zoom: 15.5, // starting zoom
            bearing: 48, //, //angling the map to make N Limestone north
            maxBounds: bounds //set bounds as max
        });

        map.on('load', function () {
    map.addSource('bathroom', {
        type: 'vector',
        url: 'mapbox://jessibreen.citx6q3ow00fc33plnn506srt-2f9p8'
    });
    map.addLayer({
        'id': 'Accessible Bathroom',
        'type': 'circle',
        'source': 'bathroom',
        'layout': {
            'visibility': 'visible'
        },
        'paint': {
            'circle-radius': 8,
            'circle-color': 'rgba(43,182,115,1)'
        },
        'source-layer': 'bathroom'
    });

    map.addSource('visual', {
        type: 'vector',
        url: 'mapbox://jessibreen.citx6rx4r00dp2yplmi63yxnc-4juv1'
    });
    map.addLayer({
        'id': 'Braille & Visual Aids',
        'type': 'circle',
        'source': 'visual',
        'layout': {
            'visibility': 'visible'
        },
        'paint': {
            'circle-radius': 8,
            'circle-color': 'rgba(0,114,178,1)'
        },
        'source-layer': 'visual'
    });

    map.addSource('outlets', {
        type: 'vector',
        url: 'mapbox://jessibreen.citx6rlkk00af2oqnw96vefsh-2v90t'
    });
    map.addLayer({
        'id': 'Available Outlets',
        'type': 'circle',
        'source': 'outlets',
        'layout': {
            'visibility': 'visible'
        },
        'paint': {
            'circle-radius': 8,
            'circle-color': 'rgba(204,121,167,1)'
        },
        'source-layer': 'outlets'
    });

    map.addSource('instore', {
        type: 'vector',
        url: 'mapbox://jessibreen.citx6rao200fe2ynvoeh37c6o-4s9su'
    });
    map.addLayer({
        'id': 'In-store Accessibility',
        'type': 'circle',
        'source': 'instore',
        'layout': {
            'visibility': 'visible'
        },
        'paint': {
            'circle-radius': 8,
            'circle-color': 'rgba(251,176,64,1)'
        },
        'source-layer': 'instore'
    });

    map.addSource('entryway', {
        type: 'vector',
        url: 'mapbox://jessibreen.citx6qyfm00c42to8zjomxt4r-7itoh'
    });
    map.addLayer({
        'id': 'Accessible Entryway',
        'type': 'circle',
        'source': 'entryway',
        'layout': {
            'visibility': 'visible'
        },
        'paint': {
            'circle-radius': 8,
            'circle-color': 'rgba(90,180,229,1)'
        },
        'source-layer': 'entryway'
    });

    
});

var toggleableLayerIds = [ 'In-store Accessibility','Accessible Entryway', 'Accessible Bathroom', 'Braille & Visual Aids', 'Available Outlets'];

for (var i = 0; i < toggleableLayerIds.length; i++) {
    var id = toggleableLayerIds[i];

    var link = document.createElement('a');
    link.href = '#';
    link.className = 'active';
    link.textContent = id;

    link.onclick = function (e) {
        var clickedLayer = this.textContent;
        e.preventDefault();
        e.stopPropagation();

        var visibility = map.getLayoutProperty(clickedLayer, 'visibility');

        if (visibility === 'visible') {
            map.setLayoutProperty(clickedLayer, 'visibility', 'none');
            this.className = '';
        } else {
            this.className = 'active';
            map.setLayoutProperty(clickedLayer, 'visibility', 'visible');
        }
    };

    var layers = document.getElementById('menu');
    layers.appendChild(link);
}
        </script>

        </section>
        <br>
        <p> Download printable versions of the maps:</p>
           <p> <a href="https://github.com/jessibreen/poa/blob/master/maps/dtwnmap.pdf"> Downtown Lexington </a> </p>
           <p> <a href="https://github.com/jessibreen/poa/blob/master/maps/nemap.pdf"> Lexington North End </a> </p>

        <footer>
          <!-- Points of Accessibility is maintained by <a href="https://github.com/jessibreen">jessibreen</a><br> -->
          This page was generated by <a href="https://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.
        </footer>

        
      </div>
    </div>
  </body>
</html>
